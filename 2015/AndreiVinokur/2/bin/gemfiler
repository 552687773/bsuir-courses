#!/usr/bin/env ruby

require 'optparse'

Dir['./../lib/*.rb'].each{ |f| require(f) }

check = OptionParser.new do|opts|
  opts.banner = "Usage: ruby gemfiler [gem_name] [gem_versions]"
end
check.parse!


check = Check.new(ARGV)
name = check.getName
interval = check.getInterval

begin
  versions = AddingVersions.new(name).add
  rescue StandardError
  puts 'Check you internet connection'
  exit
end

filtered_versions = VersionFilter.new(versions).filter(interval)

Visualiser.new(versions).visualise(filtered_versions)
